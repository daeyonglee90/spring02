<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
                 
<!-- 다른 mapper와 중복되지 않돌고 네임스페이스 기재 -->
<mapper namespace="reply">

	<!-- 댓글 입력 -->
	<insert id="insertReply">
	INSERT INTO TBL_REPLY
			( 
			  BNO
			, REPLYTEXT
			, REPLYER
			
			) VALUES (
			  #{bno}
			, #{replytext}
			, #{replyer}
		
			)					
						
	</insert>
	
	<!-- 댓글 목록 -->
	<select id="listReply" resultType="com.example.spring02.model.board.dto.ReplyVO">
	
		SELECT 
		       RNO
		     , BNO
		     , REPLYTEXT
		     , REPLYER
		     , M.USER_NAME AS USERNAME
		     , R.REGDATE
		     , R.UPDATEDATE
		  FROM TBL_REPLY R
		     , TBL_MEMBER M
		 WHERE R.REPLYER = M.USER_ID
		   AND BNO = #{bno}
		 ORDER BY RNO
		 
	</select>
</mapper>